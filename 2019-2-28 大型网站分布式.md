---
title: 2019-2-28 大型网站分布式
tags: 
grammar_cjkRuby: true
---

### V1初生
小型网站
![enter description here][1]
#### 发展问题1
随网站业务发展，用户量增多，性能越来越差，存储空间不足

### V2应用服务与数据服务分离
![enter description here][2]
![enter description here][3]

#### 发展问题2
用户增多，挑战：数据库压力过大，导致访问延迟，性能下降
### V3使用缓存改善性能
![enter description here][4]
#### 发展问题3
用户增多，单一应用服务器能够处理的请求连接有限，网站访问高峰期，应用服务器成为瓶颈
### V4应用服务集群
![enter description here][5]
#### 负载均衡可用的：如下
LVS可在IP层实现，其他软件类在应用层
![enter description here][6]
#### 发展问题4
使用缓存后大大减轻数据的压力，仍有一部分读操作（缓存命不中，缓存过期）和全部的写操作要访问数据库，当用户达到一定规模，数据库因为压力过高而成为整个系统的瓶颈

###  V5 数据库读写分离
原理：数据库的热备。


![enter description here][7]

** 数据访问模块隔离**
![enter description here][8]

#### 发展问题5
用户规模大，发布地域广，地域网络环境差别很大，如何保证用户的访问体验，不至于因访问国漫而流失用户
###   V6反向代理和CDN加速
![enter description here][9]

** 好处**
![enter description here][10]
#### 发展问题6
单文件服务器，单数据服务器存不下日益增长的数据

### V7付不是文件系统和分布式数据库系统
![enter description here][11]
怎么做？？
![enter description here][12]
#### 发展问题7
随着业务的发展，数据的存储需求和检索需求越来越复杂
![enter description here][13]

### V8使用NoSql,搜索引擎
![enter description here][14]
![enter description here][15]

####  发展问题８
业务量增大，复杂，应用程序变得庞大，迭代周期越来越快，牵一发动全身，如何应对快的的业务发展需要？
### V9业务拆分
![enter description here][16]
**消息队列MQ**
解耦，异步
![enter description here][17]
#### 发展问题9
![enter description here][18]
### V10分布式服务（服务化）
![enter description here][19]
如何做服务化？
如何做配置中心？
![enter description here][20]
#### 发展问题10
![enter description here][21]
### V11 大数据技术，监控，日志分析系统
![enter description here][22]
怎么做？
![enter description here][23]


### 架构设计思想总结
* 分而治之
* 随网站所需灵活应对
* 业务发展驱动技术发展，技术发展反哺业务
* 软件系统的价值在于他能为用户提供什么价值，在于网站能做什么，而不在于它是怎么做的！
**业务成就了技术，事业成就了人**
### 架构设计误区
* 一味追求大公司的解决方案
* 为了技术而技术
* 企图用技术解决所有问题
**技术是用来解决业务问题的，而业务的问题，也可以通过业务的手段去解决**
## 技术标准
![enter description here][24]


  [1]: ./images/1551313293308.jpg "1551313293308.jpg"
  [2]: ./images/1551313439804.jpg "1551313439804.jpg"
  [3]: ./images/1551313490562.jpg "1551313490562.jpg"
  [4]: ./images/1551313657311.jpg "1551313657311.jpg"
  [5]: ./images/1551313901099.jpg "1551313901099.jpg"
  [6]: ./images/1551313926161.jpg "1551313926161.jpg"
  [7]: ./images/1551314701036.jpg "1551314701036.jpg"
  [8]: ./images/1551314921628.jpg "1551314921628.jpg"
  [9]: ./images/1551315082270.jpg "1551315082270.jpg"
  [10]: ./images/1551315240512.jpg "1551315240512.jpg"
  [11]: ./images/1551315437785.jpg "1551315437785.jpg"
  [12]: ./images/1551315516251.jpg "1551315516251.jpg"
  [13]: ./images/1551315696108.jpg "1551315696108.jpg"
  [14]: ./images/1551315741589.jpg "1551315741589.jpg"
  [15]: ./images/1551315797035.jpg "1551315797035.jpg"
  [16]: ./images/1551316012823.jpg "1551316012823.jpg"
  [17]: ./images/1551316127574.jpg "1551316127574.jpg"
  [18]: ./images/1551316191333.jpg "1551316191333.jpg"
  [19]: ./images/1551316324168.jpg "1551316324168.jpg"
  [20]: ./images/1551316463984.jpg "1551316463984.jpg"
  [21]: ./images/1551316531636.jpg "1551316531636.jpg"
  [22]: ./images/1551316568257.jpg "1551316568257.jpg"
  [23]: ./images/1551316639684.jpg "1551316639684.jpg"
  [24]: ./images/1551407433069.jpg "1551407433069.jpg"